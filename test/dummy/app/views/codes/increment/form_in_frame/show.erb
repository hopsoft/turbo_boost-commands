<%= turbo_frame_tag "demo-#{params[:id]}" do %>
  <%# State is held in session for this demo %>
  <%= session[:count].to_i %>

  <%
    # The turbo_reflex data attribute instructs the client to perform a reflex when submitted
    # in addition to normal form handling
  %>
  <%= form_with url: demo_path(params[:id]), method: :patch,
    data: { turbo_reflex: "CounterReflex#increment" } do |form| %>
    <%= form.submit "Submit Form" %>
  <% end %>
<% end %>
