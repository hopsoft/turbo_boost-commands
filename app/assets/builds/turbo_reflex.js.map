{
  "version": 3,
  "sources": ["../../javascript/schema.js", "../../javascript/activity.js", "../../javascript/lifecycle.js", "../../javascript/elements.js", "../../javascript/turbo.js", "../../javascript/delegates.js", "../../javascript/drivers/form.js", "../../javascript/urls.js", "../../javascript/drivers/frame.js", "../../javascript/drivers/window.js", "../../javascript/drivers/index.js", "../../javascript/logger.js", "../../javascript/uuids.js", "../../javascript/index.js"],
  "sourcesContent": ["const schema = {\n  frameAttribute: 'data-turbo-frame',\n  reflexAttribute: 'data-turbo-reflex'\n}\n\nexport default { ...schema }\n", "const active = {}\n\nfunction add (payload) {\n  active[payload.id] = payload\n}\n\nfunction remove (id) {\n  delete active[id]\n}\n\nexport default {\n  add,\n  remove,\n  get reflexes () {\n    return [...Object.values(active)]\n  },\n  get length () {\n    return Object.keys(active).length\n  }\n}\n", "import activity from './activity'\n\nconst events = {\n  start: 'turbo-reflex:start',\n  success: 'turbo-reflex:success',\n  finish: 'turbo-reflex:finish',\n  abort: 'turbo-reflex:abort',\n  clientError: 'turbo-reflex:client-error',\n  serverError: 'turbo-reflex:server-error'\n}\n\nfunction dispatch (name, target = document, detail = {}, raise = false) {\n  try {\n    target = target || document\n    const event = new CustomEvent(name, {\n      detail,\n      cancelable: false,\n      bubbles: true\n    })\n    target.dispatchEvent(event)\n  } catch (error) {\n    if (raise) throw error\n    dispatch(events.clientError, target, { error, ...detail }, true)\n  }\n}\n\nfunction finish (event) {\n  event.detail.endedAt = new Date().getTime()\n  event.detail.milliseconds = event.detail.endedAt - event.detail.startedAt\n  setTimeout(() => dispatch(events.finish, event.target, event.detail), 10)\n}\n\naddEventListener(events.serverError, finish)\naddEventListener(events.success, finish)\naddEventListener(events.finish, event => activity.remove(event.detail.id), true)\n\nexport default {\n  dispatch,\n  events\n}\n", "import schema from './schema.js'\nimport lifecycle from './lifecycle'\n\nfunction findClosestReflex (element) {\n  return element.closest(`[${schema.reflexAttribute}]`)\n}\n\nfunction findClosestFrame (element) {\n  return element.closest('turbo-frame')\n}\n\nfunction assignElementValueToPayload (element, payload = {}) {\n  if (element.tagName.toLowerCase() !== 'select')\n    return (payload.value = element.value)\n\n  if (!element.multiple)\n    return (payload.value = element.options[element.selectedIndex].value)\n\n  payload.values = Array.from(element.options).reduce((memo, option) => {\n    if (option.selected) memo.push(option.value)\n    return memo\n  }, [])\n}\n\nfunction buildAttributePayload (element) {\n  // truncate long values to optimize payload size\n  // TODO: revisit this decision\n  const maxAttributeLength = 100\n  const maxValueLength = 500\n\n  const payload = Array.from(element.attributes).reduce((memo, attr) => {\n    let value = attr.value\n    if (typeof value === 'string' && value.length > maxAttributeLength)\n      value = value.slice(0, maxAttributeLength) + '...'\n    memo[attr.name] = value\n    return memo\n  }, {})\n\n  payload.tag = element.tagName\n  payload.checked = element.checked\n  payload.disabled = element.disabled\n  assignElementValueToPayload(element, payload)\n\n  if (\n    typeof payload.value === 'string' &&\n    payload.value.length > maxValueLength\n  )\n    payload.value = payload.value.slice(0, maxValueLength) + '...'\n\n  delete payload.class\n  delete payload[schema.reflexAttribute]\n  delete payload[schema.frameAttribute]\n  return payload\n}\n\nexport default {\n  buildAttributePayload,\n  findClosestReflex,\n  findClosestFrame,\n  get metaElement () {\n    return document.getElementById('turbo-reflex')\n  },\n  get metaElementToken () {\n    return document.getElementById('turbo-reflex').getAttribute('content')\n  }\n}\n", "import elements from './elements'\n\nconst frameSources = {}\n\n// fires before making a turbo HTTP request\naddEventListener('turbo:before-fetch-request', event => {\n  const frame = event.target.closest('turbo-frame')\n  const { fetchOptions } = event.detail\n  fetchOptions.headers['TurboReflex-Token'] = elements.metaElementToken\n})\n\n// fires after receiving a turbo HTTP response\naddEventListener('turbo:before-fetch-response', event => {\n  const frame = event.target.closest('turbo-frame')\n  if (frame) frameSources[frame.id] = frame.src\n})\n\n// fires when a frame element is navigated and finishes loading\naddEventListener('turbo:frame-load', event => {\n  const frame = event.target.closest('turbo-frame')\n  frame.dataset.turboReflexSrc =\n    frameSources[frame.id] || frame.src || frame.dataset.turboReflexSrc\n  delete frameSources[frame.id]\n})\n", "const events = {}\nlet eventListener\n\nfunction register (eventName, tagNames) {\n  events[eventName] = tagNames\n  document.addEventListener(eventName, eventListener, true)\n}\n\nfunction isRegistered (eventName, tagName) {\n  tagName = tagName.toLowerCase()\n  return (\n    events[eventName].includes(tagName) ||\n    (!Object.values(events)\n      .flat()\n      .includes(tagName) &&\n      events[eventName].includes('*'))\n  )\n}\n\nexport default {\n  events,\n  register,\n  isRegistered,\n  set handler (fn) {\n    eventListener = fn\n  }\n}\n", "import elements from '../elements'\n\nfunction invokeReflex (form, payload = {}) {\n  payload.token = elements.metaElementToken\n  const input = document.createElement('input')\n  input.type = 'hidden'\n  input.name = 'turbo_reflex'\n  input.value = JSON.stringify(payload)\n  form.appendChild(input)\n}\n\nexport default { invokeReflex }\n", "function build (urlString, payload = {}) {\n  const a = document.createElement('a')\n  a.href = urlString\n  const url = new URL(a)\n  url.searchParams.set('turbo_reflex', JSON.stringify(payload))\n  return url\n}\n\nexport default { build }\n", "import urls from '../urls'\nimport elements from '../elements'\n\nfunction invokeReflex (frame, payload) {\n  const src = payload.src\n  payload = { ...payload }\n  delete payload.src\n  frame.src = urls.build(src, payload)\n}\n\nexport default { invokeReflex }\n", "import elements from '../elements'\nimport lifecycle from '../lifecycle'\nimport urls from '../urls'\n\nfunction aborted (event) {\n  const xhr = event.target\n  lifecycle.dispatch(lifecycle.events.abort, window, { xhr, ...event.detail })\n}\n\nfunction errored (event) {\n  const xhr = event.target\n  lifecycle.dispatch(\n    lifecycle.events.clientError,\n    window,\n    {\n      xhr,\n      ...event.detail,\n      error: `Server returned a ${xhr.status} status code! TurboReflex requires 2XX status codes. Server message: ${xhr.statusText}`\n    },\n    true\n  )\n}\n\nfunction loaded (event) {\n  const xhr = event.target\n  const content = xhr.responseText\n  const hijacked = xhr.getResponseHeader('TurboReflex-Hijacked') === 'true'\n  if (xhr.status < 200 || xhr.status > 299) errored(event)\n\n  if (hijacked) {\n    const head = '<turbo-stream'\n    const tail = '</turbo-stream>'\n    const headIndex = content.indexOf(head)\n    const tailIndex = content.lastIndexOf(tail)\n    if (headIndex >= 0 && tailIndex >= 0) {\n      const streams = content.slice(headIndex, tailIndex + tail.length)\n      document.body.insertAdjacentHTML('beforeend', streams)\n    }\n  } else {\n    const head = '<html'\n    const tail = '</html'\n    const headIndex = content.indexOf(head)\n    const tailIndex = content.lastIndexOf(tail)\n    if (headIndex >= 0 && tailIndex >= 0) {\n      const html = content.slice(content.indexOf('>', headIndex) + 1, tailIndex)\n      document.documentElement.innerHTML = html\n    }\n  }\n}\n\nfunction invokeReflex (payload) {\n  const src = payload.src\n  payload = { ...payload }\n  delete payload.src\n\n  try {\n    const xhr = new XMLHttpRequest()\n    xhr.open('GET', urls.build(src, payload), true)\n    xhr.setRequestHeader('TurboReflex-Token', elements.metaElementToken)\n    xhr.addEventListener('abort', aborted)\n    xhr.addEventListener('error', errored)\n    xhr.addEventListener('load', loaded)\n    xhr.send()\n  } catch (ex) {\n    const message = `Unexpected error sending HTTP request! ${ex.message}`\n    errored(ex, { detail: { message } })\n  }\n}\n\nexport default { invokeReflex }\n", "import elements from '../elements'\nimport formDriver from './form'\nimport frameDriver from './frame'\nimport windowDriver from './window'\n\nfunction src (element, frame) {\n  frame = frame || { dataset: {} }\n  return (\n    element.href || frame.src || frame.dataset.turboReflexSrc || location.href\n  )\n}\n\nfunction find (element) {\n  let frame = elements.findClosestFrame(element)\n  const targetId = element.dataset.turboFrame\n\n  if (element.tagName.toLowerCase() === 'form')\n    return {\n      name: 'form',\n      reason: 'Element is a form.',\n      frame,\n      src: element.action,\n      invokeReflex: formDriver.invokeReflex\n    }\n\n  // element targets a frame that is not _self\n  if (targetId && targetId !== '_self') {\n    frame = document.getElementById(targetId)\n    return {\n      name: 'frame',\n      reason: 'element targets a frame that is not _self',\n      frame,\n      src: src(element, frame),\n      invokeReflex: frameDriver.invokeReflex\n    }\n  }\n\n  // element does NOT target a frame or targets _self and is contained by a frame\n  if ((!targetId || targetId === '_self') && frame)\n    return {\n      name: 'frame',\n      reason:\n        'element does NOT target a frame or targets _self and is contained by a frame',\n      frame,\n      src: src(element, frame),\n      invokeReflex: frameDriver.invokeReflex\n    }\n\n  // element matches one or more of the following conditions\n  // - targets _top\n  // - does NOT target a frame\n  // - is NOT contained by a frame\n  return {\n    name: 'window',\n    reason:\n      'element matches one or more of the following conditions (targets _top, does NOT target a frame, is NOT contained by a frame)',\n    frame: null,\n    src: src(element),\n    invokeReflex: windowDriver.invokeReflex\n  }\n}\n\nexport default { find }\n", "import lifecycle from './lifecycle'\n\nlet currentLevel = 'unknown'\n\nconst logLevels = {\n  debug: Object.values(lifecycle.events),\n  info: Object.values(lifecycle.events),\n  warn: [\n    lifecycle.events.abort,\n    lifecycle.events.clientError,\n    lifecycle.events.serverError\n  ],\n  error: [lifecycle.events.clientError, lifecycle.events.serverError],\n  unknown: []\n}\n\nObject.values(lifecycle.events).forEach(name => {\n  addEventListener(name, event => {\n    if (logLevels[currentLevel].includes(event.type)) {\n      const level = currentLevel === 'debug' ? 'log' : currentLevel\n      console[level](event.type, event.detail)\n    }\n  })\n})\n\nexport default {\n  get level () {\n    return currentLevel\n  },\n  set level (value) {\n    if (!Object.keys(logLevels).includes(value)) value = 'unknown'\n    return (currentLevel = value)\n  }\n}\n", "function v4 () {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\n    (\n      c ^\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n    ).toString(16)\n  )\n}\n\nexport default { v4 }\n", "import './turbo'\nimport schema from './schema.js'\nimport activity from './activity'\nimport delegates from './delegates'\nimport drivers from './drivers'\nimport elements from './elements'\nimport lifecycle from './lifecycle'\nimport logger from './logger'\nimport urls from './urls'\nimport uuids from './uuids'\n\nfunction invokeReflex (event) {\n  let element\n  let payload = {}\n\n  try {\n    element = elements.findClosestReflex(event.target)\n    if (!element) return\n    if (!delegates.isRegistered(event.type, element.tagName)) return\n\n    const driver = drivers.find(element)\n\n    // payload sent to server (also used for lifecycle event.detail)\n    payload = {\n      id: `reflex-${uuids.v4()}`,\n      name: element.dataset.turboReflex,\n      driver: driver.name,\n      src: driver.src,\n      frameId: driver.frame ? driver.frame.id : null,\n      elementId: element.id.length > 0 ? element.id : null,\n      elementAttributes: elements.buildAttributePayload(element),\n      startedAt: new Date().getTime()\n    }\n\n    activity.add(payload)\n    lifecycle.dispatch(lifecycle.events.start, element, payload)\n\n    if (driver.name !== 'form') event.preventDefault()\n\n    switch (driver.name) {\n      case 'form':\n        return driver.invokeReflex(element, payload)\n      case 'frame':\n        return driver.invokeReflex(driver.frame, payload)\n      case 'window':\n        return driver.invokeReflex(payload)\n    }\n  } catch (error) {\n    lifecycle.dispatch(lifecycle.events.clientError, element, {\n      error,\n      ...payload\n    })\n  }\n}\n\n// wire things up and setup defaults for event delegation\ndelegates.handler = invokeReflex\ndelegates.register('change', ['input', 'select', 'textarea'])\ndelegates.register('submit', ['form'])\ndelegates.register('click', ['*'])\n\nexport default {\n  schema,\n  logger,\n  registerEventDelegate: delegates.register,\n  get eventDelegates () {\n    return { ...delegates.events }\n  },\n  get lifecycleEvents () {\n    return [...Object.values(lifecycle.events)]\n  }\n}\n"],
  "mappings": "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",
  "names": ["schema", "schema_default", "active", "add", "payload", "remove", "id", "activity_default", "events", "dispatch", "name", "target", "detail", "raise", "event", "error", "finish", "activity_default", "lifecycle_default", "findClosestReflex", "element", "schema_default", "findClosestFrame", "assignElementValueToPayload", "payload", "memo", "option", "buildAttributePayload", "attr", "value", "elements_default", "frameSources", "event", "frame", "fetchOptions", "elements_default", "events", "eventListener", "register", "eventName", "tagNames", "isRegistered", "tagName", "delegates_default", "fn", "invokeReflex", "form", "payload", "elements_default", "input", "form_default", "build", "urlString", "payload", "a", "url", "urls_default", "invokeReflex", "frame", "payload", "src", "urls_default", "frame_default", "aborted", "event", "xhr", "lifecycle_default", "errored", "loaded", "content", "hijacked", "head", "tail", "headIndex", "tailIndex", "streams", "html", "invokeReflex", "payload", "src", "urls_default", "elements_default", "ex", "message", "window_default", "src", "element", "frame", "find", "elements_default", "targetId", "form_default", "frame_default", "window_default", "drivers_default", "currentLevel", "logLevels", "lifecycle_default", "name", "event", "logger_default", "value", "v4", "c", "uuids_default", "invokeReflex", "event", "element", "payload", "elements_default", "delegates_default", "driver", "drivers_default", "uuids_default", "activity_default", "lifecycle_default", "error", "javascript_default", "schema_default", "logger_default"]
}
