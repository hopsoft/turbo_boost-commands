{
  "version": 3,
  "sources": ["../../javascript/meta.js", "../../javascript/renderer.js", "../../javascript/activity.js", "../../javascript/lifecycle.js", "../../javascript/turbo.js", "../../javascript/schema.js", "../../javascript/delegates.js", "../../javascript/elements.js", "../../javascript/drivers/form.js", "../../javascript/urls.js", "../../javascript/drivers/frame.js", "../../javascript/drivers/method.js", "../../javascript/drivers/window.js", "../../javascript/drivers/index.js", "../../javascript/logger.js", "../../javascript/uuids.js", "../../javascript/index.js"],
  "sourcesContent": ["class Meta {\n  get element () {\n    return document.querySelector('meta[name=\"turbo-reflex\"]')\n  }\n\n  get token () {\n    return this.element.getAttribute('content')\n  }\n\n  get busy () {\n    return this.element.dataset.busy === 'true'\n  }\n\n  set busy (value) {\n    return (this.element.dataset.busy = !!value)\n  }\n\n  get uiStateBase64 () {\n    return this.element.dataset.uiState\n  }\n\n  // UI state gets split into chunks and sent to the server in an HTTP request header.\n  // Max size for an HTTP header is around 4k or 4,000 bytes.\n  // A Base64 character is an 8-bit-padded ASCII character... or 1 byte\n  //\n  // SEE: lib/ui_state.rb - for info on how UiState is serialized/deserialized\n  get uiStateBase64Chunks () {\n    return this.uiStateBase64.match(/.{1,2000}/g)\n  }\n\n  get uiStateJSON () {\n    return atob(this.uiStateBase64)\n  }\n\n  get uiState () {\n    return JSON.parse(this.uiStateJSON)\n  }\n}\n\nexport default new Meta()\n", "function replaceDocument (content) {\n  const head = '<html'\n  const tail = '</html'\n  const headIndex = content.indexOf(head)\n  const tailIndex = content.lastIndexOf(tail)\n  if (headIndex >= 0 && tailIndex >= 0) {\n    const html = content.slice(content.indexOf('>', headIndex) + 1, tailIndex)\n    document.documentElement.innerHTML = html\n  }\n}\n\nfunction append (content) {\n  document.body.insertAdjacentHTML('beforeend', content)\n}\n\nexport default { append, replaceDocument }\n", "const active = {}\n\nfunction add (payload) {\n  active[payload.id] = payload\n}\n\nfunction remove (id) {\n  delete active[id]\n}\n\nexport default {\n  add,\n  remove,\n  get reflexes () {\n    return [...Object.values(active)]\n  },\n  get length () {\n    return Object.keys(active).length\n  }\n}\n", "import activity from './activity'\n\nconst events = {\n  start: 'turbo-reflex:start',\n  success: 'turbo-reflex:success',\n  finish: 'turbo-reflex:finish',\n  abort: 'turbo-reflex:abort',\n  clientError: 'turbo-reflex:client-error',\n  serverError: 'turbo-reflex:server-error'\n}\n\nfunction dispatch (name, target = document, detail = {}, raise = false) {\n  try {\n    target = target || document\n    const event = new CustomEvent(name, {\n      detail,\n      cancelable: false,\n      bubbles: true\n    })\n    target.dispatchEvent(event)\n  } catch (error) {\n    if (raise) throw error\n    dispatch(events.clientError, target, { error, ...detail }, true)\n  }\n}\n\nfunction dispatchClientError (detail = {}) {\n  dispatch(events.clientError, window, detail, true)\n}\n\nfunction finish (event) {\n  event.detail.endedAt = new Date().getTime()\n  event.detail.milliseconds = event.detail.endedAt - event.detail.startedAt\n  setTimeout(() => dispatch(events.finish, event.target, event.detail), 20)\n}\n\naddEventListener(events.serverError, finish)\naddEventListener(events.success, finish)\naddEventListener(events.finish, event => activity.remove(event.detail.id), true)\n\nexport default {\n  dispatch,\n  dispatchClientError,\n  events\n}\n", "import meta from './meta'\nimport renderer from './renderer'\nimport lifecycle from './lifecycle'\n\nconst frameSources = {}\n\n// fires before making a turbo HTTP request\naddEventListener('turbo:before-fetch-request', event => {\n  const frame = event.target.closest('turbo-frame')\n  const { fetchOptions } = event.detail\n  if (meta.busy) {\n    let acceptHeaders = [\n      'text/vnd.turbo-reflex.html',\n      fetchOptions.headers['Accept']\n    ]\n    acceptHeaders = acceptHeaders\n      .filter(entry => entry && entry.trim().length > 0)\n      .join(', ')\n    fetchOptions.headers['Accept'] = acceptHeaders\n  }\n  fetchOptions.headers['TurboReflex-Token'] = meta.token\n  meta.uiStateBase64Chunks.forEach(\n    (chunk, i) =>\n      (fetchOptions.headers[\n        `TurboReflex-UiState-${i.toString().padStart(6, '0')}`\n      ] = chunk)\n  )\n})\n\n// fires after receiving a turbo HTTP response\naddEventListener('turbo:before-fetch-response', event => {\n  const frame = event.target.closest('turbo-frame')\n  const { fetchResponse: response } = event.detail\n\n  if (frame) frameSources[frame.id] = frame.src\n\n  if (response.header('TurboReflex')) {\n    if (response.statusCode < 200 || response.statusCode > 399) {\n      const error = `Server returned a ${response.statusCode} status code! TurboReflex requires 2XX-3XX status codes.`\n      lifecycle.dispatchClientError({ ...event.detail, error })\n    }\n\n    if (response.header('TurboReflex') === 'Append') {\n      event.preventDefault()\n      response.responseText.then(content => renderer.append(content))\n    }\n  }\n})\n\n// fires when a frame element is navigated and finishes loading\naddEventListener('turbo:frame-load', event => {\n  const frame = event.target.closest('turbo-frame')\n  frame.dataset.turboReflexSrc =\n    frameSources[frame.id] || frame.src || frame.dataset.turboReflexSrc\n  delete frameSources[frame.id]\n})\n", "const schema = {\n  frameAttribute: 'data-turbo-frame',\n  methodAttribute: 'data-turbo-method',\n  reflexAttribute: 'data-turbo-reflex'\n}\n\nexport default { ...schema }\n", "const events = {}\nlet eventListener\n\nfunction register (eventName, selectors) {\n  events[eventName] = selectors\n  document.addEventListener(eventName, eventListener, true)\n}\n\nfunction getRegisteredEventNameForElement (element) {\n  return Object.keys(events).find(eventName => {\n    return !!events[eventName].find(selector =>\n      Array.from(document.querySelectorAll(selector)).find(el => el === element)\n    )\n  })\n}\n\nfunction isRegisteredForElement (eventName, element) {\n  return eventName === getRegisteredEventNameForElement(element)\n}\n\nexport default {\n  events,\n  register,\n  isRegisteredForElement,\n  set handler (fn) {\n    eventListener = fn\n  }\n}\n", "import schema from './schema.js'\nimport lifecycle from './lifecycle'\n\nfunction findClosestReflex (element) {\n  return element.closest(`[${schema.reflexAttribute}]`)\n}\n\nfunction findClosestFrame (element) {\n  return element.closest('turbo-frame')\n}\n\nfunction assignElementValueToPayload (element, payload = {}) {\n  if (element.tagName.toLowerCase() !== 'select')\n    return (payload.value = element.value || null)\n\n  if (!element.multiple)\n    return (payload.value = element.options[element.selectedIndex].value)\n\n  payload.values = Array.from(element.options).reduce((memo, option) => {\n    if (option.selected) memo.push(option.value)\n    return memo\n  }, [])\n}\n\nfunction buildAttributePayload (element) {\n  const payload = Array.from(element.attributes).reduce((memo, attr) => {\n    let value = attr.value\n    memo[attr.name] = value\n    return memo\n  }, {})\n\n  payload.tag = element.tagName\n  payload.checked = !!element.checked\n  payload.disabled = !!element.disabled\n  assignElementValueToPayload(element, payload)\n\n  // reduce payload size to keep URL length smaller\n  delete payload.class\n  delete payload.action\n  delete payload.href\n  delete payload[schema.reflexAttribute]\n  delete payload[schema.frameAttribute]\n\n  return payload\n}\n\nexport default {\n  buildAttributePayload,\n  findClosestReflex,\n  findClosestFrame\n}\n", "import meta from '../meta'\n\nfunction invokeReflex (form, payload = {}) {\n  payload.token = meta.token\n  const input = document.createElement('input')\n  input.type = 'hidden'\n  input.name = 'turbo_reflex'\n  input.value = JSON.stringify(payload)\n  form.appendChild(input)\n}\n\nexport default { invokeReflex }\n", "function build (urlString, payload = {}) {\n  const a = document.createElement('a')\n  a.href = urlString\n  const url = new URL(a)\n  url.searchParams.set('turbo_reflex', JSON.stringify(payload))\n  return url\n}\n\nexport default { build }\n", "import urls from '../urls'\n\nfunction invokeReflex (frame, payload) {\n  const src = payload.src\n  payload = { ...payload }\n  delete payload.src\n  frame.src = urls.build(src, payload)\n}\n\nexport default { invokeReflex }\n", "import urls from '../urls'\n\nfunction invokeReflex (element, payload = {}) {\n  const src = payload.src\n  payload = { ...payload }\n  delete payload.src\n  delete payload.href\n  element.setAttribute('href', urls.build(src, payload))\n}\n\nexport default { invokeReflex }\n", "import meta from '../meta'\nimport lifecycle from '../lifecycle'\nimport urls from '../urls'\nimport renderer from '../renderer'\n\nfunction aborted (event) {\n  const xhr = event.target\n  lifecycle.dispatch(lifecycle.events.abort, window, { xhr, ...event.detail })\n}\n\nfunction errored (event) {\n  const xhr = event.target\n\n  xhr.getResponseHeader('TurboReflex') === 'Append'\n    ? renderer.append(xhr.responseText)\n    : renderer.replaceDocument(xhr.responseText)\n\n  const error = `Server returned a ${xhr.status} status code! TurboReflex requires 2XX-3XX status codes.`\n  lifecycle.dispatchClientError({ xhr, ...event.detail, error })\n}\n\nfunction loaded (event) {\n  const xhr = event.target\n  if (xhr.status < 200 || xhr.status > 399) return errored(event)\n  const content = xhr.responseText\n  xhr.getResponseHeader('TurboReflex') === 'Append'\n    ? renderer.append(xhr.responseText)\n    : renderer.replaceDocument(xhr.responseText)\n}\n\nfunction invokeReflex (payload) {\n  const src = payload.src\n  payload = { ...payload }\n  delete payload.src\n\n  try {\n    const xhr = new XMLHttpRequest()\n    xhr.open('GET', urls.build(src, payload), true)\n    xhr.setRequestHeader(\n      'Accept',\n      'text/vnd.turbo-reflex.html, text/html, application/xhtml+xml'\n    )\n    xhr.setRequestHeader('TurboReflex-Token', meta.token)\n    meta.uiStateBase64Chunks.forEach((chunk, i) =>\n      xhr.setRequestHeader(\n        `TurboReflex-UiState-${i.toString().padStart(6, '0')}`,\n        chunk\n      )\n    )\n\n    xhr.addEventListener('abort', aborted)\n    xhr.addEventListener('error', errored)\n    xhr.addEventListener('load', loaded)\n    xhr.send()\n  } catch (ex) {\n    const message = `Unexpected error sending HTTP request! ${ex.message}`\n    errored(ex, { detail: { message } })\n  }\n}\n\nexport default { invokeReflex }\n", "import elements from '../elements'\nimport formDriver from './form'\nimport frameDriver from './frame'\nimport methodDriver from './method'\nimport windowDriver from './window'\n\nfunction src (element, frame) {\n  frame = frame || { dataset: {} }\n  return (\n    element.href || frame.src || frame.dataset.turboReflexSrc || location.href\n  )\n}\n\nfunction find (element) {\n  let frame = elements.findClosestFrame(element)\n  const { turboFrame, turboMethod } = element.dataset\n\n  if (element.tagName.toLowerCase() === 'form')\n    return {\n      name: 'form',\n      reason: 'Element is a form.',\n      frame,\n      src: element.action,\n      invokeReflex: formDriver.invokeReflex\n    }\n\n  if (turboMethod && turboMethod.length > 0)\n    return {\n      name: 'method',\n      reason: 'Element defines data-turbo-method.',\n      frame,\n      src: element.href,\n      invokeReflex: methodDriver.invokeReflex\n    }\n\n  // element targets a frame that is not _self\n  if (turboFrame && turboFrame !== '_self') {\n    frame = document.getElementById(turboFrame)\n    return {\n      name: 'frame',\n      reason: 'element targets a frame that is not _self',\n      frame,\n      src: src(element, frame),\n      invokeReflex: frameDriver.invokeReflex\n    }\n  }\n\n  // element does NOT target a frame or targets _self and is contained by a frame\n  if ((!turboFrame || turboFrame === '_self') && frame)\n    return {\n      name: 'frame',\n      reason:\n        'element does NOT target a frame or targets _self and is contained by a frame',\n      frame,\n      src: src(element, frame),\n      invokeReflex: frameDriver.invokeReflex\n    }\n\n  // element matches one or more of the following conditions\n  // - targets _top\n  // - does NOT target a frame\n  // - is NOT contained by a frame\n  return {\n    name: 'window',\n    reason:\n      'element matches one or more of the following conditions (targets _top, does NOT target a frame, is NOT contained by a frame)',\n    frame: null,\n    src: src(element),\n    invokeReflex: windowDriver.invokeReflex\n  }\n}\n\nexport default { find }\n", "import lifecycle from './lifecycle'\n\nlet currentLevel = 'unknown'\n\nconst logLevels = {\n  debug: Object.values(lifecycle.events),\n  info: Object.values(lifecycle.events),\n  warn: [\n    lifecycle.events.abort,\n    lifecycle.events.clientError,\n    lifecycle.events.serverError\n  ],\n  error: [lifecycle.events.clientError, lifecycle.events.serverError],\n  unknown: []\n}\n\nObject.values(lifecycle.events).forEach(name => {\n  addEventListener(name, event => {\n    if (logLevels[currentLevel].includes(event.type)) {\n      const level = currentLevel === 'debug' ? 'log' : currentLevel\n      console[level](event.type, event.detail)\n    }\n  })\n})\n\nexport default {\n  get level () {\n    return currentLevel\n  },\n  set level (value) {\n    if (!Object.keys(logLevels).includes(value)) value = 'unknown'\n    return (currentLevel = value)\n  }\n}\n", "function v4 () {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\n    (\n      c ^\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n    ).toString(16)\n  )\n}\n\nexport default { v4 }\n", "import './turbo'\nimport schema from './schema.js'\nimport activity from './activity'\nimport delegates from './delegates'\nimport drivers from './drivers'\nimport meta from './meta'\nimport elements from './elements'\nimport lifecycle from './lifecycle'\nimport logger from './logger'\nimport urls from './urls'\nimport uuids from './uuids'\n\nfunction invokeReflex (event) {\n  let element\n  let payload = {}\n\n  try {\n    element = elements.findClosestReflex(event.target)\n    if (!element) return\n    if (!delegates.isRegisteredForElement(event.type, element)) return\n\n    const driver = drivers.find(element)\n\n    // payload sent to server (also used for lifecycle event.detail)\n    payload = {\n      id: `reflex-${uuids.v4()}`,\n      name: element.dataset.turboReflex,\n      driver: driver.name,\n      src: driver.src,\n      frameId: driver.frame ? driver.frame.id : null,\n      elementId: element.id.length > 0 ? element.id : null,\n      elementAttributes: elements.buildAttributePayload(element),\n      startedAt: new Date().getTime()\n    }\n\n    activity.add(payload)\n    lifecycle.dispatch(lifecycle.events.start, element, payload)\n\n    if (['frame', 'window'].includes(driver.name)) event.preventDefault()\n\n    meta.busy = true\n    setTimeout(() => (meta.busy = false), 10)\n\n    switch (driver.name) {\n      case 'method':\n        return driver.invokeReflex(element, payload)\n      case 'form':\n        return driver.invokeReflex(element, payload)\n      case 'frame':\n        return driver.invokeReflex(driver.frame, payload)\n      case 'window':\n        return driver.invokeReflex(payload)\n    }\n  } catch (error) {\n    lifecycle.dispatch(lifecycle.events.clientError, element, {\n      error,\n      ...payload\n    })\n  }\n}\n\n// wire things up and setup defaults for event delegation\ndelegates.handler = invokeReflex\ndelegates.register('change', [\n  `input[${schema.reflexAttribute}]`,\n  `select[${schema.reflexAttribute}]`,\n  `textarea[${schema.reflexAttribute}]`\n])\n// delegates.register('mousedown', [\n//   `[${schema.reflexAttribute}][${schema.methodAttribute}]`\n// ])\ndelegates.register('submit', [`form[${schema.reflexAttribute}]`])\ndelegates.register('click', [`[${schema.reflexAttribute}]`])\n\nexport default {\n  schema,\n  logger,\n  registerEventDelegate: delegates.register,\n  get eventDelegates () {\n    return { ...delegates.events }\n  },\n  get lifecycleEvents () {\n    return [...Object.values(lifecycle.events)]\n  }\n}\n"],
  "mappings": "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",
  "names": ["Meta", "value", "meta_default", "replaceDocument", "content", "head", "tail", "headIndex", "tailIndex", "html", "append", "renderer_default", "active", "add", "payload", "remove", "id", "activity_default", "events", "dispatch", "name", "target", "detail", "raise", "event", "error", "dispatchClientError", "finish", "activity_default", "lifecycle_default", "frameSources", "event", "frame", "fetchOptions", "meta_default", "acceptHeaders", "entry", "chunk", "i", "response", "error", "lifecycle_default", "content", "renderer_default", "schema", "schema_default", "events", "eventListener", "register", "eventName", "selectors", "getRegisteredEventNameForElement", "element", "selector", "el", "isRegisteredForElement", "delegates_default", "fn", "findClosestReflex", "element", "schema_default", "findClosestFrame", "assignElementValueToPayload", "payload", "memo", "option", "buildAttributePayload", "attr", "value", "elements_default", "invokeReflex", "form", "payload", "meta_default", "input", "form_default", "build", "urlString", "payload", "a", "url", "urls_default", "invokeReflex", "frame", "payload", "src", "urls_default", "frame_default", "invokeReflex", "element", "payload", "src", "urls_default", "method_default", "aborted", "event", "xhr", "lifecycle_default", "errored", "renderer_default", "error", "loaded", "content", "invokeReflex", "payload", "src", "urls_default", "meta_default", "chunk", "i", "ex", "message", "window_default", "src", "element", "frame", "find", "elements_default", "turboFrame", "turboMethod", "form_default", "method_default", "frame_default", "window_default", "drivers_default", "currentLevel", "logLevels", "lifecycle_default", "name", "event", "logger_default", "value", "v4", "c", "uuids_default", "invokeReflex", "event", "element", "payload", "elements_default", "delegates_default", "driver", "drivers_default", "uuids_default", "activity_default", "lifecycle_default", "meta_default", "error", "schema_default", "javascript_default", "logger_default"]
}
