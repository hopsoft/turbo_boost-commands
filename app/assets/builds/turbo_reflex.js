var n={};function c(t,e){return e=e.toLowerCase(),n[t]===e||!Object.values(n).includes(e)&&n[t]==="*"}function l(t){let e=t.dataset.turboReflexFrame;return e=e||t.closest("turbo-frame").id,e||console.error("The reflex element does not specify a frame!","Please set the 'data-turbo-reflex-frame' attribute.",t),e}function m(t){let e=document.getElementById(t);return e||console.error(`The frame '${t}' does not exist!`),e}function d(t){let e=document.createElement("a");return e.href=t,new URL(e)}function b(t){let e=Array.from(t.attributes).reduce((r,a)=>(a.name.includes("data-turbo-reflex")||(r[a.name]=a.value),r),{});return e.tagName=t.tagName,e.value=t.value,e}function u(t){let e=t.target.closest("[data-turbo-reflex]");if(!e||!c(t.type,t.target.tagName))return;t.preventDefault(),t.stopPropagation();let r=l(e);if(!r)return;let a=m(r);if(!a)return;let s=a.dataset.turboReflexFrameSrc;if(!s)return;let f={name:e.dataset.turboReflex,frame:r,element:b(e)},i=d(s);i.searchParams.set("turbo_reflex",JSON.stringify(f)),a.src=i.toString()}function o(t,e){e.forEach(r=>n[t]=r.toLowerCase()),document.removeEventListener(t,u,!0),document.addEventListener(t,u,!0)}o("change",["input","select","textarea"]);o("submit",["form"]);o("click",["*"]);var h={registerEvent:o,registeredEvents:n};export{h as default};
//# sourceMappingURL=turbo_reflex.js.map
